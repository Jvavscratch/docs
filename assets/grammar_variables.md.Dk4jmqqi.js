import{_ as a,c as n,o as l,ag as e}from"./chunks/framework.BkKiziiH.js";const u=JSON.parse('{"title":"变量和赋值","description":"","frontmatter":{},"headers":[],"relativePath":"grammar/variables.md","filePath":"grammar/variables.md"}'),p={name:"grammar/variables.md"};function o(r,s,c,t,i,d){return l(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="变量和赋值" tabindex="-1">变量和赋值 <a class="header-anchor" href="#变量和赋值" aria-label="Permalink to &quot;变量和赋值&quot;">​</a></h1><p>在 jvavscratch 中，变量的使用有一些特殊规则和约定，了解这些规则将帮助您更有效地编写代码。</p><h2 id="变量声明" tabindex="-1">变量声明 <a class="header-anchor" href="#变量声明" aria-label="Permalink to &quot;变量声明&quot;">​</a></h2><p>在 jvavscratch 中，您只能使用 <code>let</code> 关键字声明变量，不支持 <code>const</code> 关键字：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 10</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 有效</span></span>
<span class="line"><span style="color:#6A737D;">// const y = 20;</span><span style="color:#6A737D;">  // 无效，不支持 const</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="变量作用域" tabindex="-1">变量作用域 <a class="header-anchor" href="#变量作用域" aria-label="Permalink to &quot;变量作用域&quot;">​</a></h2><h3 id="全局变量" tabindex="-1">全局变量 <a class="header-anchor" href="#全局变量" aria-label="Permalink to &quot;全局变量&quot;">​</a></h3><p>默认情况下，所有变量都是全局的，这意味着它们可以在程序的任何部分访问：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> score </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 全局变量</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> increaseScore</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  score </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> score </span><span style="color:#F97583;">+</span><span style="color:#79B8FF;"> 10</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 可以访问全局变量</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="局部变量" tabindex="-1">局部变量 <a class="header-anchor" href="#局部变量" aria-label="Permalink to &quot;局部变量&quot;">​</a></h3><p>您可以通过在变量名前加上 <code>_l_</code> 前缀来声明局部变量，这些变量仅在其声明的作用域内可见：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> calculateTotal</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#F97583;">  let</span><span style="color:#E1E4E8;"> _l_total </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 局部变量</span></span>
<span class="line"><span style="color:#6A737D;">  // 计算逻辑...</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> _l_total;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 在函数外部无法访问 _l_total</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="显式全局变量" tabindex="-1">显式全局变量 <a class="header-anchor" href="#显式全局变量" aria-label="Permalink to &quot;显式全局变量&quot;">​</a></h3><p>虽然变量默认是全局的，但您也可以通过在变量名前加上 <code>_g_</code> 前缀来显式声明全局变量：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _g_counter </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 显式声明的全局变量</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="云变量" tabindex="-1">云变量 <a class="header-anchor" href="#云变量" aria-label="Permalink to &quot;云变量&quot;">​</a></h3><blockquote><p><strong>警告</strong>：云变量当前已禁用。它们将被转换为 <code>global</code> 变量，并且 <code>_c_</code> 前缀将被移除。</p></blockquote><p>在 Scratch 中，云变量是存储在服务器上的变量，可以在不同用户之间共享。在 jvavscratch 中，您可以通过在变量名前加上 <code>_c_</code> 前缀来声明云变量：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _c_onlineUsers </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 云变量（当前已禁用）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="变量引用" tabindex="-1">变量引用 <a class="header-anchor" href="#变量引用" aria-label="Permalink to &quot;变量引用&quot;">​</a></h2><p>声明变量后，您可以直接使用变量名来引用它，不需要包含前缀：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _l_privateVar </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &quot;这是私有变量&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(privateVar);  </span><span style="color:#6A737D;">// 输出: &quot;这是私有变量&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _g_globalVar </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &quot;这是全局变量&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(globalVar);  </span><span style="color:#6A737D;">// 输出: &quot;这是全局变量&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="列表引用" tabindex="-1">列表引用 <a class="header-anchor" href="#列表引用" aria-label="Permalink to &quot;列表引用&quot;">​</a></h2><p>在 jvavscratch 中，您可以通过以下方式引用 Scratch 列表：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 引用名为 &#39;example&#39; 的列表（_list_ 将被省略）</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> z </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> _list_example;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="命名规则" tabindex="-1">命名规则 <a class="header-anchor" href="#命名规则" aria-label="Permalink to &quot;命名规则&quot;">​</a></h2><ul><li>避免使用与列表同名的变量，否则 sb3 将无法正确构建</li><li>不要对云变量、全局变量或局部变量使用相同的名称，这将导致构建失败</li><li>变量名应该有意义，描述变量的用途</li></ul><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><ol><li>尽可能使用局部变量 (<code>_l_</code> 前缀) 来限制变量的作用域，避免变量冲突</li><li>对于需要在多个函数间共享的变量，使用全局变量</li><li>使用描述性的变量名，使代码更易于理解</li><li>初始化变量时赋予合理的初始值</li></ol>`,29)])])}const y=a(p,[["render",o]]);export{u as __pageData,y as default};
