import{_ as a,c as n,o as l,ag as e}from"./chunks/framework.BkKiziiH.js";const u=JSON.parse('{"title":"CLI 模块","description":"","frontmatter":{},"headers":[],"relativePath":"modules/cli.md","filePath":"modules/cli.md"}'),p={name:"modules/cli.md"};function c(r,s,o,t,i,d){return l(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="cli-模块" tabindex="-1">CLI 模块 <a class="header-anchor" href="#cli-模块" aria-label="Permalink to &quot;CLI 模块&quot;">​</a></h1><p>CLI（Command Line Interface）模块是jvavscratch的命令行工具，提供了项目创建、编译、开发等功能的命令行接口，是用户与jvavscratch交互的主要入口点。</p><h2 id="安装cli" tabindex="-1">安装CLI <a class="header-anchor" href="#安装cli" aria-label="Permalink to &quot;安装CLI&quot;">​</a></h2><p>安装jvavscratch后，CLI工具会自动安装到您的系统中：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#9ECBFF;"> install</span><span style="color:#79B8FF;"> -g</span><span style="color:#9ECBFF;"> jvavscratch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装完成后，您可以通过<code>jvavscratch</code>命令访问CLI工具。</p><h2 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-label="Permalink to &quot;基本命令&quot;">​</a></h2><h3 id="查看版本" tabindex="-1">查看版本 <a class="header-anchor" href="#查看版本" aria-label="Permalink to &quot;查看版本&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#79B8FF;"> --version</span></span>
<span class="line"><span style="color:#6A737D;"># 或</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>显示jvavscratch的当前版本。</p><h3 id="查看帮助" tabindex="-1">查看帮助 <a class="header-anchor" href="#查看帮助" aria-label="Permalink to &quot;查看帮助&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#79B8FF;"> --help</span></span>
<span class="line"><span style="color:#6A737D;"># 或</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#79B8FF;"> -h</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>显示CLI工具的帮助信息，包括所有可用命令和选项。</p><h2 id="核心命令" tabindex="-1">核心命令 <a class="header-anchor" href="#核心命令" aria-label="Permalink to &quot;核心命令&quot;">​</a></h2><h3 id="_1-初始化项目" tabindex="-1">1. 初始化项目 <a class="header-anchor" href="#_1-初始化项目" aria-label="Permalink to &quot;1. 初始化项目&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> init</span><span style="color:#E1E4E8;"> [project-name]</span></span>
<span class="line"><span style="color:#6A737D;"># 或简写</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> i</span><span style="color:#E1E4E8;"> [project-name]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>创建一个新的jvavscratch项目。如果不指定项目名称，将在当前目录初始化项目。</p><p><strong>选项：</strong></p><ul><li><code>--template &lt;template-name&gt;</code>: 指定项目模板（目前仅支持默认模板）</li><li><code>--no-install</code>: 跳过依赖安装</li></ul><p><strong>示例：</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 在当前目录初始化项目</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 创建新目录并初始化项目</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> init</span><span style="color:#9ECBFF;"> my-project</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-构建项目" tabindex="-1">2. 构建项目 <a class="header-anchor" href="#_2-构建项目" aria-label="Permalink to &quot;2. 构建项目&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> build</span></span>
<span class="line"><span style="color:#6A737D;"># 或简写</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> b</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将jvavscratch项目编译为Scratch项目文件(.sb3)。</p><p><strong>选项：</strong></p><ul><li><code>--config &lt;config-path&gt;</code>: 指定配置文件路径</li><li><code>--output &lt;output-path&gt;</code>: 指定输出目录或文件</li><li><code>--watch</code>: 监视文件变化并自动重新构建</li></ul><p><strong>示例：</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 使用默认配置构建项目</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 指定输出目录</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> build</span><span style="color:#79B8FF;"> --output</span><span style="color:#9ECBFF;"> ./my-output</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 监视模式</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> build</span><span style="color:#79B8FF;"> --watch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_3-开发服务器" tabindex="-1">3. 开发服务器 <a class="header-anchor" href="#_3-开发服务器" aria-label="Permalink to &quot;3. 开发服务器&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> dev</span></span>
<span class="line"><span style="color:#6A737D;"># 或简写</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>启动开发服务器，监视文件变化并自动重新构建，便于实时预览开发效果。</p><p><strong>选项：</strong></p><ul><li><code>--port &lt;port&gt;</code>: 指定开发服务器端口（默认：3000）</li><li><code>--config &lt;config-path&gt;</code>: 指定配置文件路径</li></ul><p><strong>示例：</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 使用默认端口启动开发服务器</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 指定端口</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> dev</span><span style="color:#79B8FF;"> --port</span><span style="color:#79B8FF;"> 4000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4-反编译scratch项目" tabindex="-1">4. 反编译Scratch项目 <a class="header-anchor" href="#_4-反编译scratch项目" aria-label="Permalink to &quot;4. 反编译Scratch项目&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> decompile</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">sb3-fil</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;"># 或简写</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> dc</span><span style="color:#F97583;"> &lt;</span><span style="color:#9ECBFF;">sb3-fil</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将Scratch项目文件(.sb3)反编译为jvavscratch JavaScript代码。</p><p><strong>选项：</strong></p><ul><li><code>--output &lt;output-path&gt;</code>: 指定输出目录</li></ul><p><strong>示例：</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 反编译Scratch项目</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> decompile</span><span style="color:#9ECBFF;"> ./project.sb3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 指定输出目录</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> decompile</span><span style="color:#9ECBFF;"> ./project.sb3</span><span style="color:#79B8FF;"> --output</span><span style="color:#9ECBFF;"> ./decompiled</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5-验证代码" tabindex="-1">5. 验证代码 <a class="header-anchor" href="#_5-验证代码" aria-label="Permalink to &quot;5. 验证代码&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> validate</span><span style="color:#E1E4E8;"> [files...]</span></span>
<span class="line"><span style="color:#6A737D;"># 或简写</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> v</span><span style="color:#E1E4E8;"> [files...]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>验证jvavscratch代码的语法和结构是否正确。如果不指定文件，将验证当前项目中的所有代码文件。</p><p><strong>示例：</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;"># 验证特定文件</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> validate</span><span style="color:#9ECBFF;"> ./src/main.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 验证所有文件</span></span>
<span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> validate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>CLI工具会读取项目根目录下的<code>jvavscratch.config.js</code>文件作为配置。一个基本的配置文件如下：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // 输入文件或目录</span></span>
<span class="line"><span style="color:#E1E4E8;">  input: </span><span style="color:#9ECBFF;">&#39;./src&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">  // 输出目录</span></span>
<span class="line"><span style="color:#E1E4E8;">  output: </span><span style="color:#9ECBFF;">&#39;./dist&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#6A737D;">  // Scratch项目信息</span></span>
<span class="line"><span style="color:#E1E4E8;">  project: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;My Project&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    author: </span><span style="color:#9ECBFF;">&#39;Your Name&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    description: </span><span style="color:#9ECBFF;">&#39;Project description&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#6A737D;">  // 编译选项</span></span>
<span class="line"><span style="color:#E1E4E8;">  compiler: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    strictMode: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="全局配置" tabindex="-1">全局配置 <a class="header-anchor" href="#全局配置" aria-label="Permalink to &quot;全局配置&quot;">​</a></h2><p>CLI工具支持以下环境变量：</p><ul><li><code>JVAVSCRATCH_HOME</code>: jvavscratch的主目录，默认为用户主目录下的<code>.jvavscratch</code></li><li><code>JVAVSCRATCH_CACHE_DIR</code>: 缓存目录，默认为<code>JVAVSCRATCH_HOME/cache</code></li></ul><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="命令不被识别" tabindex="-1">命令不被识别 <a class="header-anchor" href="#命令不被识别" aria-label="Permalink to &quot;命令不被识别&quot;">​</a></h3><p>如果您在安装后无法使用<code>jvavscratch</code>命令，请检查：</p><ol><li>Node.js和npm是否正确安装</li><li>npm全局目录是否添加到了系统PATH中</li><li>是否使用了正确的权限安装（可能需要管理员权限）</li></ol><h3 id="构建失败" tabindex="-1">构建失败 <a class="header-anchor" href="#构建失败" aria-label="Permalink to &quot;构建失败&quot;">​</a></h3><p>如果构建失败，请检查：</p><ol><li>项目结构是否正确</li><li>JavaScript代码是否符合jvavscratch的语法规则</li><li>查看错误信息，定位具体问题</li></ol><h3 id="开发服务器无法启动" tabindex="-1">开发服务器无法启动 <a class="header-anchor" href="#开发服务器无法启动" aria-label="Permalink to &quot;开发服务器无法启动&quot;">​</a></h3><p>如果开发服务器无法启动，请检查：</p><ol><li>指定的端口是否已被占用</li><li>项目配置是否正确</li><li>是否有足够的权限创建临时文件和目录</li></ol>`,63)])])}const h=a(p,[["render",c]]);export{u as __pageData,h as default};
