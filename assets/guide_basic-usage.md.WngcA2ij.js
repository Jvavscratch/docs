import{_ as a,c as n,o as l,ag as p}from"./chunks/framework.BkKiziiH.js";const d=JSON.parse('{"title":"基本使用","description":"","frontmatter":{},"headers":[],"relativePath":"guide/basic-usage.md","filePath":"guide/basic-usage.md"}'),e={name:"guide/basic-usage.md"};function o(r,s,c,t,i,u){return l(),n("div",null,[...s[0]||(s[0]=[p(`<h1 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h1><p>本指南将介绍jvavscratch的基本使用方法，帮助您开始编写和转换JavaScript代码为Scratch项目。</p><h2 id="项目结构" tabindex="-1">项目结构 <a class="header-anchor" href="#项目结构" aria-label="Permalink to &quot;项目结构&quot;">​</a></h2><p>一个典型的jvavscratch项目具有以下结构：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span>my-project/</span></span>
<span class="line"><span>├── src/</span></span>
<span class="line"><span>│   ├── main.js       # 主程序入口</span></span>
<span class="line"><span>│   └── utils.js      # 工具函数（可选）</span></span>
<span class="line"><span>├── assets/           # 资源文件（可选）</span></span>
<span class="line"><span>│   ├── costumes/     # 角色造型</span></span>
<span class="line"><span>│   ├── backdrops/    # 背景</span></span>
<span class="line"><span>│   └── sounds/       # 声音文件</span></span>
<span class="line"><span>├── jvavscratch.json  # 项目配置文件</span></span>
<span class="line"><span>└── package.json      # NPM配置文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p><code>jvavscratch.json</code>是项目的配置文件，用于指定项目的基本信息和编译选项：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;my-project&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;version&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1.0.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;description&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;My jvavscratch project&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;main&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;src/main.js&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;output&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;dist/project.sb3&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;options&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;target&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;scratch3&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;optimize&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="基本语法" tabindex="-1">基本语法 <a class="header-anchor" href="#基本语法" aria-label="Permalink to &quot;基本语法&quot;">​</a></h2><h3 id="事件块" tabindex="-1">事件块 <a class="header-anchor" href="#事件块" aria-label="Permalink to &quot;事件块&quot;">​</a></h3><p>每个jvavscratch程序都需要一个事件块来指定程序的入口点。事件块必须放在文件的第一行：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">//#whenflagclicked()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>其他可用的事件块：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">//#whenthisspriteclicked()</span><span style="color:#6A737D;">  // 当角色被点击时</span></span>
<span class="line"><span style="color:#6A737D;">//#start_as_clone()</span><span style="color:#6A737D;">          // 当克隆体启动时</span></span>
<span class="line"><span style="color:#6A737D;">//#whenkeypressed(&quot;space&quot;)</span><span style="color:#6A737D;">   // 当按下空格键时</span></span>
<span class="line"><span style="color:#6A737D;">//#whenbackdropswitchesto(&quot;Backdrop1&quot;)</span><span style="color:#6A737D;">  // 当背景切换到特定背景时</span></span>
<span class="line"><span style="color:#6A737D;">//#whenbroadcastreceived(&quot;message&quot;)</span><span style="color:#6A737D;">  // 当接收到广播时</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="变量" tabindex="-1">变量 <a class="header-anchor" href="#变量" aria-label="Permalink to &quot;变量&quot;">​</a></h3><p>在jvavscratch中，使用<code>let</code>声明变量：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 10</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> name </span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;"> &quot;Scratch&quot;</span><span style="color:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>变量默认是全局的。您可以通过前缀来修改变量的作用域：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _l_count </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 0</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 局部变量</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> _g_score </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 100</span><span style="color:#E1E4E8;">;  </span><span style="color:#6A737D;">// 全局变量</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h3><p>您可以定义自己的函数：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#B392F0;"> greet</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  looks.</span><span style="color:#B392F0;">say</span><span style="color:#E1E4E8;">(operation.</span><span style="color:#B392F0;">join</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Hello, &quot;</span><span style="color:#E1E4E8;">, name, </span><span style="color:#9ECBFF;">&quot;!&quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">greet</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;World&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="scratch块的使用" tabindex="-1">Scratch块的使用 <a class="header-anchor" href="#scratch块的使用" aria-label="Permalink to &quot;Scratch块的使用&quot;">​</a></h3><p>jvavscratch提供了对应于Scratch块的JavaScript函数：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 运动</span></span>
<span class="line"><span style="color:#E1E4E8;">motion.</span><span style="color:#B392F0;">move</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">motion.</span><span style="color:#B392F0;">turnRight</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 外观</span></span>
<span class="line"><span style="color:#E1E4E8;">looks.</span><span style="color:#B392F0;">say</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Hello&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">looks.</span><span style="color:#B392F0;">changeSizeBy</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 声音</span></span>
<span class="line"><span style="color:#E1E4E8;">sound.</span><span style="color:#B392F0;">playSound</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;meow&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 控制</span></span>
<span class="line"><span style="color:#E1E4E8;">control.</span><span style="color:#B392F0;">wait</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 侦测</span></span>
<span class="line"><span style="color:#E1E4E8;">sensing.</span><span style="color:#B392F0;">ask</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;What&#39;s your name?&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="编译项目" tabindex="-1">编译项目 <a class="header-anchor" href="#编译项目" aria-label="Permalink to &quot;编译项目&quot;">​</a></h2><p>要编译您的jvavscratch项目，请在项目目录中运行：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将生成一个Scratch项目文件（.sb3），您可以在Scratch编辑器中导入并运行它。</p><h2 id="运行开发服务器" tabindex="-1">运行开发服务器 <a class="header-anchor" href="#运行开发服务器" aria-label="Permalink to &quot;运行开发服务器&quot;">​</a></h2><p>如果您希望在开发过程中实时预览更改，可以使用开发服务器：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">jvavscratch</span><span style="color:#9ECBFF;"> dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将启动一个开发服务器，并在您修改代码时自动重新编译项目。</p><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="为什么我的程序不能编译" tabindex="-1">为什么我的程序不能编译？ <a class="header-anchor" href="#为什么我的程序不能编译" aria-label="Permalink to &quot;为什么我的程序不能编译？&quot;">​</a></h3><p>检查以下几点：</p><ol><li>是否在文件开头添加了事件块（如<code>//#whenflagclicked()</code>）</li><li>是否使用了jvavscratch不支持的JavaScript特性</li><li>是否正确导入了所需的模块</li></ol><h3 id="如何导入外部资源" tabindex="-1">如何导入外部资源？ <a class="header-anchor" href="#如何导入外部资源" aria-label="Permalink to &quot;如何导入外部资源？&quot;">​</a></h3><p>您可以将图像和声音文件放在项目的<code>assets</code>目录中，然后在配置文件中指定它们：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#79B8FF;">  &quot;assets&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;costumes&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;assets/costumes&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;sounds&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;assets/sounds&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#79B8FF;">    &quot;backdrops&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;assets/backdrops&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,40)])])}const E=a(e,[["render",o]]);export{d as __pageData,E as default};
