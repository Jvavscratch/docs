import{_ as a,c as n,o as l,ag as e}from"./chunks/framework.DQvKz0xt.js";const b=JSON.parse('{"title":"运动API","description":"","frontmatter":{},"headers":[],"relativePath":"api/motion.md","filePath":"api/motion.md"}'),p={name:"api/motion.md"};function o(r,s,c,t,i,E){return l(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="运动api" tabindex="-1">运动API <a class="header-anchor" href="#运动api" aria-label="Permalink to &quot;运动API&quot;">​</a></h1><p>jvavscratch提供了丰富的运动API，使开发者能够控制角色的移动、旋转和位置。这些API对应Scratch中的运动类积木。</p><h2 id="基本移动函数" tabindex="-1">基本移动函数 <a class="header-anchor" href="#基本移动函数" aria-label="Permalink to &quot;基本移动函数&quot;">​</a></h2><h3 id="move" tabindex="-1">move <a class="header-anchor" href="#move" aria-label="Permalink to &quot;move&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 向前移动指定步数</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">move</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 向前移动10步</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">move</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 向后移动5步</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使角色向前或向后移动指定的步数。正数值向前，负数值向后。</p><h3 id="turnright-turnleft" tabindex="-1">turnRight / turnLeft <a class="header-anchor" href="#turnright-turnleft" aria-label="Permalink to &quot;turnRight / turnLeft&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 旋转指定角度</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">turnRight</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 右转90度</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">turnLeft</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">45</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 左转45度</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使角色向右或向左旋转指定的角度（度数）。</p><h3 id="pointindirection" tabindex="-1">pointInDirection <a class="header-anchor" href="#pointindirection" aria-label="Permalink to &quot;pointInDirection&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 指向指定方向</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">pointInDirection</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 指向右侧（90度）</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">pointInDirection</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 指向上方（0度）</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">pointInDirection</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">90</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 指向左侧（-90度）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>设置角色的朝向为指定的方向（度数）。0度为上方，90度为右侧，-90度为左侧，180度为下方。</p><h2 id="位置控制函数" tabindex="-1">位置控制函数 <a class="header-anchor" href="#位置控制函数" aria-label="Permalink to &quot;位置控制函数&quot;">​</a></h2><h3 id="goto" tabindex="-1">goTo <a class="header-anchor" href="#goto" aria-label="Permalink to &quot;goTo&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 移动到指定坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">goTo</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 移动到舞台中心</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">goTo</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 移动到指定坐标</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 移动到另一个角色</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">goTo</span><span style="color:#E1E4E8;">(otherSprite);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>将角色移动到舞台上的指定坐标位置，或者移动到另一个角色的位置。</p><h3 id="glideto" tabindex="-1">glideTo <a class="header-anchor" href="#glideto" aria-label="Permalink to &quot;glideTo&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 平滑移动到指定位置，需要时间参数</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">glideTo</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 用2秒时间平滑移动到(100,50)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 平滑移动到另一个角色</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">glideTo</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, targetSprite);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使角色平滑地移动到指定位置，第一个参数是移动所需的时间（秒）。</p><h3 id="setx-sety" tabindex="-1">setX / setY <a class="header-anchor" href="#setx-sety" aria-label="Permalink to &quot;setX / setY&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 设置X坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">setX</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 设置Y坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">setY</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>单独设置角色的X或Y坐标。</p><h3 id="changex-changey" tabindex="-1">changeX / changeY <a class="header-anchor" href="#changex-changey" aria-label="Permalink to &quot;changeX / changeY&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 修改X坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">changeX</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 增加X坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">changeX</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 减少X坐标</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 修改Y坐标</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">changeY</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 增加Y坐标（向上）</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.</span><span style="color:#B392F0;">changeY</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 减少Y坐标（向下）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>增加或减少角色的X或Y坐标值。</p><h2 id="方向和位置信息函数" tabindex="-1">方向和位置信息函数 <a class="header-anchor" href="#方向和位置信息函数" aria-label="Permalink to &quot;方向和位置信息函数&quot;">​</a></h2><h3 id="direction" tabindex="-1">direction <a class="header-anchor" href="#direction" aria-label="Permalink to &quot;direction&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 获取或设置角色方向</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> currentDirection</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> sprite.direction;</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.direction </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 180</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 设置方向为向下</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>获取或设置角色的当前朝向角度。</p><h3 id="x-y" tabindex="-1">x / y <a class="header-anchor" href="#x-y" aria-label="Permalink to &quot;x / y&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 获取或设置角色坐标</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> xPosition</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> sprite.x;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> yPosition</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> sprite.y;</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.x </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 50</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.y </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> 25</span><span style="color:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>获取或设置角色的X和Y坐标。</p><h2 id="运动辅助函数" tabindex="-1">运动辅助函数 <a class="header-anchor" href="#运动辅助函数" aria-label="Permalink to &quot;运动辅助函数&quot;">​</a></h2><h3 id="bounceonedge" tabindex="-1">bounceOnEdge <a class="header-anchor" href="#bounceonedge" aria-label="Permalink to &quot;bounceOnEdge&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 设置碰到边缘反弹</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.bounceOnEdge </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 取消碰到边缘反弹</span></span>
<span class="line"><span style="color:#E1E4E8;">sprite.bounceOnEdge </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> false</span><span style="color:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当角色碰到舞台边缘时，是否反弹。</p><h3 id="ifonedgebounce" tabindex="-1">ifOnEdgeBounce <a class="header-anchor" href="#ifonedgebounce" aria-label="Permalink to &quot;ifOnEdgeBounce&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 如果碰到边缘则反弹</span></span>
<span class="line"><span style="color:#B392F0;">ifOnEdgeBounce</span><span style="color:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果角色碰到舞台边缘，则自动反弹。</p><h3 id="istouching" tabindex="-1">isTouching <a class="header-anchor" href="#istouching" aria-label="Permalink to &quot;isTouching&quot;">​</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#6A737D;">// 检查是否碰到其他角色或边缘</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> isTouchingPlayer</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> sprite.</span><span style="color:#B392F0;">isTouching</span><span style="color:#E1E4E8;">(playerSprite);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> isTouchingEdge</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> sprite.</span><span style="color:#B392F0;">isTouching</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;edge&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (isTouchingEdge) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  sprite.bounceOnEdge </span><span style="color:#F97583;">=</span><span style="color:#79B8FF;"> true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>检查角色是否碰到另一个角色或舞台边缘。</p><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li>舞台坐标范围通常为X: -240 到 240，Y: -180 到 180</li><li>移动函数会根据角色当前的朝向计算移动方向</li><li>使用glideTo函数时，角色在移动过程中可以被其他代码中断</li><li>频繁调用移动函数可能导致角色移动不流畅，建议使用适当的等待时间</li></ol>`,44)])])}const y=a(p,[["render",o]]);export{b as __pageData,y as default};
